<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-combo-box.html">
<link rel="import" href="../../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../../../bower_components/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-date-picker.html">
<link rel="import" href="../../../bower_components/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-button.html">
<link rel="import" href="../../../bower_components/vaadin-button/vaadin-button.html">
<link rel="import" href="../../../bower_components/vaadin-radio-button/vaadin-radio-button.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-grid.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-selection-column.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="omp-order">
    <template>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
        <style>
         .section-title{
             text-transform: uppercase;
             font-weight: bold;
         }
         #quantity {
             border-radius: 0px;
             text-aling:center;
         }
        </style>
        <vaadin-grid aria-label="Basic Binding Example" items="[[orders]]">
	    <vaadin-grid-selection-column auto-select>
	    </vaadin-grid-selection-column>
            <vaadin-grid-column lex-grow="0">
                <template class="header">Side</template>
                <template>[[item.side]]</template>
                <!-- If necessary, the footer could be set using <template class="footer"> -->
            </vaadin-grid-column>
            <vaadin-grid-column>
                <template class="header">Symbol</template>
                <template>[[item.symbol]]</template>
            </vaadin-grid-column>
            <vaadin-grid-column>
                <template class="header">Quantity</template>
                <template>[[item.quantity]]</template>
            </vaadin-grid-column>
            <vaadin-grid-column>
                <template class="header">Type</template>
                <template>[[item.type]]</template>
            </vaadin-grid-column>
            <vaadin-grid-column>
                <template class="header">Price</template>
                <template>[[item.price]]</template>
            </vaadin-grid-column>
            <vaadin-grid-column>
                <template class="header">Druation</template>
                <template>[[item.duration]]</template>
            </vaadin-grid-column>
	    <vaadin-grid-column>
                <template>
		    <div style="display: flex">
			<button on-click="_remove">Remove</button>
			<button on-click="_edit">Edit</button>
			<button on-click="_send">Send</button>
		    </div>
		</template>
            </vaadin-grid-column>
        </vaadin-grid>
    </template>
    <script>
     class OmpOrder extends Polymer.Element{
         static get is() { return 'omp-order'; }
         static get properties(){
             return {
		 orders: {
		     type: Array,
		     value: () => []
		 }
             }
         }

	 addOrder(order){
	     this.push('orders', order);
	 }

	 _remove(ev) {
	     this.splice('orders', ev.model.index, 1);
	 }

	 _edit(ev){
	     let toEdit = Object.assign({ index : ev.model.index }, ev.model.item );
	     this.dispatchEvent(new CustomEvent('edit-order', {detail : toEdit  }))
	 }

	 _send(ev) {

	 }
     }
     customElements.define(OmpOrder.is, OmpOrder);
    </script>
</dom-module>
