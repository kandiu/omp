<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-combo-box.html">
<link rel="import" href="../../../bower_components/vaadin-combo-box/vaadin-combo-box.html">
<link rel="import" href="../../../bower_components/vaadin-text-field/vaadin-text-field.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-date-picker.html">
<link rel="import" href="../../../bower_components/vaadin-date-picker/vaadin-date-picker.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-button.html">
<link rel="import" href="../../../bower_components/vaadin-button/vaadin-button.html">
<link rel="import" href="../../../bower_components/vaadin-radio-button/vaadin-radio-button.html">
<link rel="import" href="../../../bower_components/vaadin-valo-theme/vaadin-grid.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<dom-module id="omp-builder">
    <template>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
        <style>
         .section-title{
             text-transform: uppercase;
             font-weight: bold;
         }
         #quantity {
             border-radius: 0px;
             text-aling:center;
         }
        </style>
        <div class="row">
            <div class="col-4">
                <!-- ASSET DETAIL -->
                <div class="section-title">ASSET DETAILS</div>
            </div>
            <div class="col-4">
                <!-- ORDER SETTIGS -->
                <div class="section-title mb-4 row"><div class="col">ORDER SETTINGS</div></div>
                <div class="row">
                    <div class="col">
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-success">BUY</button>
                            <button type="button" class="btn btn-danger">SELL</button>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <vaadin-combo-box id="type" label="Type"></vaadin-combo-box>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <vaadin-combo-box id="duration" label="Duration" value="GTC"></vaadin-combo-box>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
			<vaadin-text-field readonly value="50" label="Price"></vaadin-text-field>
		    </div>
                </div>
            </div>
            <div class="col-4">
                <!-- QUANTITY -->
                <div class="row section-title mb-4"><div class="col">QUANTITY</div></div>
                <div class="row">
                    <div class="col">
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-light" on-click="changePrice" data="10">10</button>
                            <button type="button" class="btn btn-light" on-click="changePrice" data="20">20</button>
                            <button type="button" class="btn btn-light" on-click="changePrice" data=50">50</button>
                            <button type="button" class="btn btn-light" on-click="changePrice" data="100">100</button>
                            <button type="button" class="btn btn-light" on-click="changePrice" data="200">200</button>
                            <button type="button" class="btn btn-light" on-click="changePrice" data="300">300</button>
                        </div>
                    </div>
                </div>
                <div class="row mt-4">
                    <div class="col">
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" class="btn btn-secondary" on-click="changePrice" data="1">+</button>
                            <input id="quantity" type="text" class="form-control" value="{{quantity}}">
                            <button type="button" class="btn btn-secondary" on-click="changePrice" data="-1">-</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
	<div class="row my-2">
	    <div class="col">
		<button type="button" class="btn btn-primary float-right" on-click="createOrder">Create</button>
	    </div>
	</div>
        <div class="row mt-4">
            <div class="col">
                <!-- <iron-ajax auto url="https://demo.vaadin.com/demo-data/1.0/people?count=200" handle-as="json" last-response="{{users}}"></iron-ajax> -->
                <vaadin-grid aria-label="Basic Binding Example" items="[[users.result]]" theme="black">
                    <vaadin-grid-column lex-grow="0">
                        <template class="header">B/S</template>
                        <template>[[index]]</template>
                        <!-- If necessary, the footer could be set using <template class="footer"> -->
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Underlying</template>
                        <template>[[item.firstName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Country</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Ticker</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Maturity</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Right</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Strike</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Quantity</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                    <vaadin-grid-column>
                        <template class="header">Limit</template>
                        <template>[[item.lastName]]</template>
                    </vaadin-grid-column>
                </vaadin-grid></div>
        </div>
    </template>
    <script>
     class OmpBuilder extends Polymer.Element{
         static get is() { return 'omp-builder'; }
         static get properties(){
             return {
		 quantity: {
		     type: Number,
		     value: 50
		 }
             }
         }
         connectedCallback() {
             super.connectedCallback();
             this.$["duration"].items = ["DAY", "GTC"]
             this.$["type"].items = ["MKT", "LMT"]
         }

	 changePrice(el){
	     this.set("quantity", this.get("quantity") + parseInt(el.target.getAttribute("data")));
	 }

     }
     customElements.define(OmpBuilder.is, OmpBuilder);
    </script>
</dom-module>
